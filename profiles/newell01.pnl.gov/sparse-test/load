
source /etc/profile.d/modules.sh
module purge
export INSTALL_LOCAL=/qfs/people/manc568/projects/newell01.pnl.gov-install-local
cluster=$(uname -n | cut -f1 -d. | sed -E 's/[[:digit:]]//g')

export metisv=5.1.0
export cudav=9.2
export gccv=7.4.0
export cmakev=3.16.4
export magmav=2.5.2_cuda10.2
export ompiv=3.1.5

module purge
module load gcc/$gccv
module load cuda/$cudav
module load cmake/$cmakev
module load openmpi/$ompiv
module load magma/$magmav
module load metis/$metisv

export NVCC_DIR=/share/apps/cuda/$cudav
export LD_LIBRARY_PATH="$NVCC_DIR/lib64:$INSTALL_LOCAL/lib:$INSTALL_LOCAL/lib64:$LD_LIBRARY_PATH"
export LIBRARY_PATH="$NVCC_DIR/lib64:$INSTALL_LOCAL/lib:$INSTALL_LOCAL/lib64:$LIBRARY_PATH"
export PATH="$NVCC_DIR/bin:$INSTALL_LOCAL/bin:$PATH"
export C_INCLUDE_PATH=$NVCC_DIR/include/:$C_INCLUDE_PATH
export CPLUS_INCLUDE_PATH=$NVCC_DIR/include:$CPLUS_INCLUDE_PATH
export OMP_CANCELLATION=true
export OMP_PROC_BIND=true
