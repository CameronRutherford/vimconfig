source /etc/profile.d/modules.sh

cuda_ver=10.1.243

module purge
module load gcc/7.3.0
module load cuda/$cuda_ver
module load cmake/3.15.3
module load openmpi/3.1.3
module load magma/2.5.2_cuda10.2
module load metis/5.1.0

export INSTALL_LOCAL=/people/manc568/projects/marianas.pnl.gov/

export PATH=$INSTALL_LOCAL/bin:$PATH
export LD_LIBRARY_PATH=$INSTALL_LOCAL/lib:$LD_LIBRARY_PATH
export NVCC_DIR=/share/apps/cuda/$cuda_ver
export CUDADIR=$NVCC_DIR
export OPENBLASDIR=$INSTALL_LOCAL/lib/libopenblas.so
export PATH=$NVCC_DIR/bin:$PATH
export C_INCLUDE_PATH=$NVCC_DIR/include:$C_INCLUDE_PATH
export CPLUS_INCLUDE_PATH=$NVCC_DIR/include:$CPLUS_INCLUDE_PATH
export LIBRARY_PATH=$NVCC_DIR/lib64:$LIBRARY_PATH
export LD_LIBRARY_PATH=$NVCC_DIR/lib64:$LD_LIBRARY_PATH
export OMP_CANCELLATION=true
export OMP_PROC_BIND=true

export OMPI_MCA_pml="ucx"
export OMPI_MCA_btl="^vader,tcp,openib,uct"
export UCX_NET_DEVICES=mlx5_1:1,mlx5_3:1
cd ~/projects/hiop
